const nodemailer=require("nodemailer"),transporter=nodemailer.createTransport({service:"gmail",auth:{user:process.env.GOOGLE_EMAIL,pass:process.env.GOOGLE_PASSWORD}});module.exports={sendEmail:e=>{const{name:r,email:o,subject:n,message:t}=e,a={from:"Client via Portfolio <contact.portfolio@gmail.com>",to:process.env.MY_EMAIL,subject:n,html:`<p>Name: ${r} <br/> Contact: ${o}<br/><br/>${t}</p>`};return new Promise((e,r)=>{transporter.verify(function(e,r){if(!e)return transporter.sendMail(a,function(e,r){})})}).catch(e=>void 0)},replyEmail:e=>{const{name:r,email:o}=e,n={from:"Jiah Lee <donotreply@gmail.com>",to:`${r} <${o}>`,subject:"Auto reply message from Jiah Lee",html:`          \n                <p>\n                    Hello ${r},<br/><br/>\n                    Thank you for getting in touch.<br/>\n                    I will reply to you as soon as possible.<br/>\n                    Thank you.<br/><br/>\n                    Best,<br/><br/>\n                    Jiah Lee\n                </p>   \n            `};return new Promise((e,r)=>transporter.sendMail(n,function(e,r){})).catch(e=>void 0)}};
require("dotenv").config();const logger=require("morgan"),bodyParser=require("body-parser"),cookieParser=require("cookie-parser"),express=require("express"),app=express(),port=process.env.PORT||8080,myApi=require("./api.js");app.use(logger("dev")),app.use(bodyParser.urlencoded({extended:!0})),app.use(bodyParser.json()),app.use(cookieParser()),app.post("/",(e,r)=>myApi.sendEmail(e.body).then(myApi.replyEmail(e.body)).catch(e=>void 0)),app.use(express.static(`${process.cwd()}/client`)),app.use(function(e,r,p){var s=new Error("Not Found");s.status=404,p(s)}),app.listen(port,()=>{});
//# sourceMappingURL=maps/all.js.map
