"use strict";require("dotenv").config();var logger=require("morgan"),bodyParser=require("body-parser"),cookieParser=require("cookie-parser"),express=require("express"),cors=require("cors"),app=express(),port=process.env.PORT||8080,myApi=require("./api.js"),corsOptions={origin:"https://jin827.github.io",optionsSuccessStatus:200};function sendMessage(e,s,r){try{myApi.sendEmail(e.body),r()}catch(e){r(e)}}function sendAutoReply(e,s,r){try{myApi.replyEmail(e.body),r()}catch(e){r(e)}}app.use(cors(corsOptions)),app.use(logger("dev")),app.use(bodyParser.urlencoded({extended:!0})),app.use(bodyParser.json()),app.use(cookieParser()),app.use(function(e,s,r){s.header("Access-Control-Allow-Origin","*"),s.header("Access-Control-Allow-Methods","GET, OPTIONS, PATCH, POST, DELETE"),s.header("Access-Control-Allow-Credentials",!0),s.header("Access-Control-Allow-Headers","Origin, X-Requested-With, Content-Type, Accept, Authorization"),r()}),app.get("/",function(e,s){s.redirect("https://jin827.github.io")}),app.post("/api/contact",sendMessage,sendAutoReply),app.use(function(e){var s=new Error("Not Found");s.status=404,e(s)}),"production"!==app.get("env")?app.use(function(e,s){s.status(e.status||500),s.json({message:e.message,error:e})}):app.use(function(e,s){s.status(e.status||500),s.json({message:e.message,error:{}})}),app.listen(port,function(){});
//# sourceMappingURL=maps/index.js.map
