{"version":3,"sources":["api.js"],"names":["sgMail","require","setApiKey","process","env","SENDGRID_API_KEY","module","exports","sendEmail","message","email","subject","mailOptions","from","MY_EMAIL","to","Promise","resolve","reject","catch","err","replyEmail","data","name","console","html","send","error"],"mappings":"aAAA,IAAMA,OAASC,QAAQ,kBACvBD,OAAOE,UAAUC,QAAQC,IAAIC,kBAA7BL,OAAOE,QAAUC,CAEjBG,UAAOC,SAAAA,GAAU,IAEhBC,EAKEC,EALFD,KAAqBE,EAKnBD,EALmBC,MAAAC,EAKnBF,EALmBE,QAAAF,EAKnBA,EALmBA,QAQdG,EAAc,CAApBC,KAAMD,EACLC,GAAAA,QADmBT,IAAAU,SAEnBC,QAAAA,4BAFmBJ,EAGnBA,KAAAA,YAAAA,EAAAA,mBAAqCA,EAArCA,aAHmBF,EAGnBE,QAID,OAAO,IAAIK,QAAQ,SAACC,EAASC,GAA7B,OAAOlB,OAAIgB,KAAQJ,EAACK,SAAAA,QAApBE,MAAA,SAAAC,OAUDC,WAAY,SAAAC,GAAA,IAAUC,EAKvBC,EALuBD,KAOhBb,EADe,CAEnBG,GAHHW,EAFGd,MAMAC,KAAAA,+BACAc,QAAAA,mCAJDA,KAAAA,mCAK8BF,EAL9B,8PAjCF,OAAA,IAAAP,QAAA,SAAAC,EAAAC,GAgDG,OAAOlB,OAAO0B,KAAKd,EAAa,SAAUe,QAMzCR,MAAM,SAAAC","file":"../api.js","sourcesContent":["const sgMail = require('@sendgrid/mail');\nsgMail.setApiKey(process.env.SENDGRID_API_KEY);\n\nmodule.exports = {\n\n\tsendEmail: (data) => {\n\t\tconst {\n\t\t\tname,\n\t\t\temail,\n\t\t\tsubject,\n\t\t\tmessage\n\t\t} = data;\n\n\t\tconst mailOptions = {\n\t\t\tfrom: email,\n\t\t\tto: process.env.MY_EMAIL,\n\t\t\tsubject: `Jiah Portfolio Message - ${subject}`,\n\t\t\thtml: `<p>Name: ${name} <br/> Contact: ${email}<br/><br/>${message}</p>`,\n\t\t};\n\n\t\treturn new Promise((resolve, reject) => {\n\t\t\treturn sgMail.send(mailOptions, (error) => {\n\t\t\t\terror ?\n\t\t\t\t\tconsole.error(`Unable to send the email to Jiah Lee: ${error}`) :\n\t\t\t\t\tconsole.log('Email was sent back to Jiah Lee');\n\t\t\t});\n\t\t})\n\t\t\t.catch(err => console.error(`sendEmail function error : ${err}`));\n\t},\n\n\treplyEmail: (data) => {\n\t\tconst {\n\t\t\tname,\n\t\t\temail\n\t\t} = data;\nconsole.log('EMAIL',email);\n\t\tconst mailOptions = {\n\t\t\tto: email,\n\t\t\tfrom: 'noreply@jiahlee.webdeveloper',\n\t\t\tsubject: 'Auto reply message from Jiah Lee',\n\t\t\thtml: `\n                <strong>Hello ${name}</strong>,<br/><br/>\n                Thank you for getting in touch.<br/>\n                I will reply to you as soon as possible.<br/>\n                Thank you.<br/><br/>\n                Best,<br/><br/>\n                Jiah Lee\n              `\n\t\t};\n\n\t\treturn new Promise((resolve, reject) => {\n\t\t\treturn sgMail.send(mailOptions, function (error) {\n\t\t\t\terror ?\n\t\t\t\t\tconsole.error(`Unable to send the email to Jiah Lee: ${error}`) :\n\t\t\t\t\tconsole.log('Email was sent back to the client');\n\t\t\t});\n\t\t})\n\t\t\t.catch(err => console.error(`replyEmail function error : ${err}`));\n\t}\n};\n"]}